# 提案の設計

「新しい仕組みを導入したい！」と思っていてもただ導入したいというだけなら要望は通らない。
例えば「フレームワークをRailsに変えたい」とか「Gitを導入したい」とかだ。
巷で利用されているイケてる開発手法やツールはとても便利だし、使いこなせば開発効率が劇的にあがる。
しかし、どのチームにもチームごとのカルチャーがあり、少し古い企業ならばレガシーなコードも多いはずなので
簡単に導入とはいかない。
その現状を無視して、最新の技術を導入したいと述べるだけでは誰もついてこないは目に見えている。
以下では、こうした現状のシステムに新しいシステムを導入したり、またはリプレースする際に
考えなければならない点を考えてみた。いわゆるただのメモですよ。

前置きは長かったけれども考えるべき点は3つになった。

## ①現状の課題

- 現状抱えている課題をあげる
- 自分が抱えている問題でも誰かが感じている問題でもよい
- 課題なしに提案はありえない、というかそれ、ただのわがままだ。

## ②**【重要】**問題意識の共有

- 洗い出した問題がチームの誰もが感じているなら解決への道は近い=実現できるかも
    - 協力が得られる
    - 目的がはっきりしているのでモチベーションが落ちにくい
- ただし、自分しか感じていない問題なら自分ひとりで解決まですべてやらないといけない。通常業務と並行でやるのはつらい。
- なので、問題を誰にでも共感してもらえるレベルまで抽象したり逆に各人の身近な事例を例にしながら提案する。
- これができないのであればそれは問題として影響力の小さい問題なのでチームレベルでやるのは難しい

## ③問題の解決法

- ここのフェーズまでくればあとはやるだけ。
- 最も(チームにとって)効率の良い方法をとる
- プログラミングで言えばコードを書くだけの段階

# 具体例

※**これはフィクションですよ！たとえ話です。**

## PHPのバージョンアップ+Laravel4を導入したい

会社でLaravel4を導入したい。最近盛り上がってきてるし。でもいきなりフレームワークリプレースとかむりぽ...。
そもそもPHPのバージョン的に非対応...。移行コストとか今やる必要ある？とか正論だよ...

### 現状の課題

- PHPのバージョンがサポート切れなので便利ツールが使えない
- 膨大なcontroller,model,viewがテストなしで運用されている
    - ソースを追いにくい
    - 属人的なアプリが生まれる
- テストを考慮してコードが書かれていないのでテストコードが書きにくい+導入しにくい
    - テストがなく、変更した機能の影響を調査するのに時間がとられる。自分が追加した機能で振る舞いがどう変わるのか、tail -f logファイル + f5でしか確認できない。
- CI？ほぅ...

### 問題意識の共有

- 現状問題なく運用できてる（人が多い）ので問題だと思っている人が少ない
- テストがなくてもなんとかなってるし、むしろ書くことが増えるので負担増
    - =>**問題意識が低い**
    - =>問題意識を共有する術を考える必要あり

#### **【施策】**
秘伝のたれを続けた末、すでにメンテナンス困難になっている社内ツールを例にする

- そのツールのバグの多さやメンテナンスしづらさは誰もが知っている
- 「今はメンテナンスできてる」がずっとつづくと思うな的アピール
- リプレースするとしたらにはいくらかかるか?高いよね？

### 問題の解決法

- メンテナンス性をあげましょう
- 膨大になったコードを一度整理しましょう
    - =>PHPのバージョンアップ
        - 今までバージョンアップすらできなかったライブラリ郡をcomposerで依存管理できるよ
    - =>Laravel4
        - テストが導入しやすい
        - 今まで利用していたフレームワークの後継なので学習コスト低い
        - フレームワークごとcomposerで管理できるのでバージョンアップも基本的には難しくない
        - 便利機能たんまりあるで...

### 補足

この具体例では正直、テストが導入しやすければ何のフレームワークでもよい。逆に言うとLaravel4でもよい。
あとは使いたいと思える人が多ければいけるはず。

棚ぼた的に、Laravel4を利用しているという点でリクルーティング的に少し武器になる可能性あり。

## 最後に

ここまでやっても聞き入れてもらえない場合は自分に問題がある。
だから、まずは最低限やるべきことはやるようにする。ある程度信頼は必要だし。

ただ、どう振り返ってみても自分に非が無いなと感じるなら
会社がくそな可能性大なので辞めよう。